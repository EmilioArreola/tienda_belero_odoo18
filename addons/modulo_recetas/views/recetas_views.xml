<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="receta_receta_kanban_view" model="ir.ui.view">
            <field name="name">receta.receta.kanban</field>
            <field name="model">receta.receta</field>
            <field name="arch" type="xml">
                <kanban>
                    <field name="id"/>
                    <field name="name"/>
                    <field name="descripcion_corta"/>
                    <field name="categoria_ids"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_global_click">
                                <div class="o_kanban_image">
                                    <img t-att-src="kanban_image('receta.receta', 'image_1920', record.id.raw_value)" alt="Receta"/>
                                </div>
                                <div class="oe_kanban_details">
                                    <strong><field name="name"/></strong>
                                    <div class="o_kanban_tags_section">
                                        <field name="categoria_ids" widget="many2many_tags" options="{'color_field': 'color'}"/>
                                    </div>
                                    <p class="mt-1"><field name="descripcion_corta"/></p>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <record id="receta_receta_tree_view" model="ir.ui.view">
            <field name="name">receta.receta.list</field>
            <field name="model">receta.receta</field>
            <field name="arch" type="xml">
                <list>
                    <field name="name"/>
                    <field name="categoria_ids" widget="many2many_tags" options="{'color_field': 'color'}"/>
                    <field name="tiempo_preparacion" optional="show"/>
                    <field name="dificultad" optional="show"/>
                    <field name="porciones" optional="show"/>
                </list>
            </field>
        </record>

        <record id="receta_receta_form_view" model="ir.ui.view">
            <field name="name">receta.receta.form</field>
            <field name="model">receta.receta</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <field name="image_1920" widget="image" class="oe_avatar"/>
                        <div class="oe_title">
                            <h1><field name="name" placeholder="Ej: Pastel de Chocolate"/></h1>
                        </div>
                        <group>
                            <group>
                                <field name="categoria_ids" widget="many2many_tags"/>
                                <field name="dificultad"/>
                            </group>
                            <group>
                                <field name="tiempo_preparacion"/>
                                <field name="porciones"/>
                            </group>
                        </group>
                        <group>
                             <field name="descripcion_corta"/>
                        </group>
                        <notebook>
                            <page string="Descripción Detallada">
                                <field name="descripcion_larga"/>
                            </page>
                            <page string="Ingredientes">
                                <group>
                                    <field name="ingredientes_cantidades" nolabel="1" placeholder="Escribe aquí la lista de ingredientes con sus cantidades..."/>
                                    <separator string="Productos Relacionados (Etiquetas)"/>
                                    <field name="ingrediente_ids" widget="many2many_tags" nolabel="1"/>
                                </group>
                            </page>
                            <page string="Instrucciones">
                                <field name="instrucciones"/>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="receta_receta_action" model="ir.actions.act_window">
            <field name="name">Recetas de Cocina</field>
            <field name="res_model">receta.receta</field>
            <field name="view_mode">kanban,list,form</field>
        </record>

        <record id="receta_categoria_list_view" model="ir.ui.view">
            <field name="name">receta.categoria.list</field>
            <field name="model">receta.categoria</field>
            <field name="arch" type="xml">
                <list editable="bottom">
                    <field name="name"/>
                    <field name="color" widget="color_index"/>
                </list>
            </field>
        </record>

        <record id="receta_categoria_action" model="ir.actions.act_window">
            <field name="name">Categorías</field>
            <field name="res_model">receta.categoria</field>
            <field name="view_mode">list,form</field>
        </record>

        <record id="receta_ingrediente_tree_view" model="ir.ui.view">
            <field name="name">receta.ingrediente.list</field> <field name="model">receta.ingrediente</field>
            <field name="arch" type="xml">
                <list editable="bottom">
                    <field name="name"/>
                    <field name="product_id"/>
                </list>
            </field>
        </record>

        <record id="receta_ingrediente_action" model="ir.actions.act_window">
            <field name="name">Ingredientes</field>
            <field name="res_model">receta.ingrediente</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="menu_recetas_root" name="Recetario"/>
        
        <menuitem id="menu_recetas_recetas"
                  name="Recetas"
                  parent="menu_recetas_root"
                  action="receta_receta_action"
                  sequence="10"/>

        <menuitem id="menu_recetas_categorias"
                  name="Categorías"
                  parent="menu_recetas_root"
                  action="receta_categoria_action"
                  sequence="20"/>

        <menuitem id="menu_recetas_ingredientes"
                  name="Ingredientes"
                  parent="menu_recetas_root"
                  action="receta_ingrediente_action"
                  sequence="30"/>

    </data>
</odoo>